# Description: Khronos reference front-end for GLSL and ESSL, and sample SPIR-V generator
# URL: https://github.com/KhronosGroup/glslang
# Maintainer: Tsaop, leeroy at cock dot li
# Depends on: spirv-tools

name=glslang
version=fd1e8a7
release=1
source=()

build() {
	git clone --depth=1 https://github.com/KhronosGroup/$name
	cd $name

	# Clone spirv-tools repository
	./update_glslang_sources.py

	mkdir build; cd build
	cmake -DCMAKE_INSTALL_PREFIX=/usr \
		-DCMAKE_BUILD_TYPE=Release \
		-DBUILD_TESTING=OFF \
		-DSKIP_SPIRV_TOOLS_INSTALL=ON \
		..

	make
	make DESTDIR=$PKG install
}
